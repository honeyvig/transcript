foreign
YouTube channel
in this world where video games are so
important to so many people
communication and Community around game
survital
Discord offers both of those and More in
one well-designed package in this
tutorial we'll make a Discord board that
can play music in the voice channels but
before we begin if you love watching
Tech videos subscribe to our Channel hit
the like button and hit the Bell button
to never miss an update and guys I have
an insight for you that is if you are
aiming to get certified in Python
Programming and want to build up python
software development career in that case
you can check this python certification
course by simple learn which will open
the doors for the best career
opportunities and to find the details of
this python certification course you can
check the link in the description box
below it could be the ideal solution to
help you build your career in the right
direction
and before starting with our tutorial I
have a simple question for you guys
so moving on that
the question is who is one of the
co-founders of Discord
any options are the first option is Jack
Dorsey the second option is Json cytron
third option is Elon Musk and the fourth
option is none of these
please answer in the comment section
below and we'll update the correct
answer in the pin comment you can pause
the video give it a thought and answer
in the comment section
now moving on
first we'll see the demo of our tutorial
that is the Discord music board but we
are gonna create
so this is a source code
so we'll just run it and first we'll get
a terminal
and I will run it for you guys
so it has been successfully executed
now we'll move to Discord and
this code is basically for the simple
and server I am in The Simple Plan
server and now
we will visit a voice Channel
and
what we have in this code is
that is to play the song we will use
play underscore song
and to get the board joined we will use
join and in starting we'll use
exclamation marks for the commands that
is command prefix
so we'll move here
you can see that the simple and board is
live here
we'll just write a command
to make it join this channel
you can see here there is simply on
board has joined the channel
now we'll ask him to play any song so
we'll get something from YouTube
so we will move to YouTube
and just copy this link
and move back to our Discord and here we
will write the command
play underscore song
that is what we have set it and we'll
paste the link here and press enter
so
we have given the command to assimplant
board and you can see that that's simply
on board is typing first it will
download the music then it will play for
us
so we have to wait some seconds
till it that's all its work
it's taking time
okay we got another
unable to recognize the tab page
okay
so we will give another link
to our bot
or that will go to
YouTube
and okay
give this
link
to a bot
now the signal okay
it has played I hope
you are able to hear that sound
no one will get it
okay
now we have seen the demonstration of
our project now we'll move
to create our own music port so for that
first
we will
create a folder
not in this
we'll create in Python projects
and
name it as
Discord music port
and inside this port we'll open the
command prompt
yeah and now we are open our ID
that is we will use the visual studio
code you can use any ID that you have
hands on I usually use the visual studio
code and here we will create a file and
name it as main.py
and
now the first thing we have to do is set
up the application of our Discord board
and import the libraries but before that
let's have a small discussion about the
Discord
that Discord is a voice and text
communication platform for gamers and
player streamers and developers use this
code to discuss games answer questions
chat while they play and much more it
even has a game store complete with
critical reviews and a subscription
service it is nearly a One-Stop solution
for gaming communities
now
we'll move to create a Discord board and
for that you should have an account on
this code by visiting the website you
can create a account or
you can have an app in your mobile phone
so moving on we will move to Discord
and create a new server
for our project
for me and my friends
and I will name the server as
music
board
okay
now I'll click on create
now I have created the server
and these are the channels General
Channel and the voice Channel that's
also has the name General Channel
now we'll go to the Discord development
website
so for that
will visit the browser foreign
portal
and here
first you have to move to the
applications
and first you have to sign in here after
signing in then you have to move to the
applications
you can use any previous applications
you have made or just click on the new
application
and give it a name to application and
we'll name it as
but we have named to the server
that was music board
so we'll name the application as music
board
will
take the terms and conditions and click
on create
now
you could see the name that is music
board now if you want to give tags you
can give the tag that is chat
or chat board
and it's asking to save the changes
we'll save the changes
and now we'll move to the board now
to create a board here we'll click on
the add board
and then click on yes to it too many
users have this username please try
another
okay
so you just name the
board as music
port
row simply
okay
and we'll save the changes
now we'll move to the board and click on
ADD bot and then yes to it
now you could see that the username that
is music board Pro simply
and now moving mode
um
now we have added the board
now we'll just
go downwards and
click on Port permission set
administrator
so a board would have all the
permissions
now we'll visit the authorization tool
and select
in-app authorization
and for the Scopes we'll select board
and for both permissions we'll select
the administrator
and it's asked to
save the changes we have saved the
changes now we'll move to the URL
generator
and here in Scopes we'll click on the
board and for the board permissions
we'll click on the administrator
and this is the link
which you have to copy
and open in your browser
I have copy pasted and you have to store
this link
so for that
I will open a dock
file and in that I will store it so our
server name is music board that we have
created in the Discord a simple Discord
node on the Discord developer portal
that we created on the Discord now we'll
continue and you can see that it is
asking that we have given in the
administrator permissions yes authorize
it so it's asking
for a captcha
if I'm a human or not
you can see that
there was a notification that the board
is authorized and it has been popped
into the channel
into the server
so we will just create a new Doc file
and
paste our link here okay
don't worry I will change these links
reset them so
you guys can't misuse them okay
so I will just change them okay
and now
we'll get the token for board but before
getting the token we will give the
permissions that is requires
authorization to Grant
presence intent
server number intent
and message content okay
now we'll reset the token
and this is my token I will copy it
and I will paste it here
and I'm gonna change it I'm gonna reset
it after the project is completed so
don't worry if anyone
is
thinking to use my token okay
so
here we have set the Discord application
and the Discord developer portal now
we'll move to install some libraries
so we'll move back to our main.py and
search our command prompt
and here is our command prompt
okay
yeah this one
okay so here we'll install some packages
first we'll start with pi NaCl
so you can just
visit the browser and type Pi NaCl pipef
you can see the official website you
have to just copy the command
go to a command prompt
paste it and press enter
and the module would be installed for
you as you can see that it states that
the requirement is already satisfied as
I have already installed these modules
so one by one I will show you which
modules we have to install now this is
essential
so we will just go back to our Command
Prompt paste the command press enter
and I think it's
I have already installed it but yeah it
has installed again no it shows
now the next module we have to install
is the Discord module so we just have to
copy the command paste it in the command
prompt or The Terminal of your ID
it states that the requirement is
already satisfied we'll move to Discord
EXT bot external bot and we'll paste the
command here and press enter
then we'll move to python dot
environment
and you can see its requirement is
already satisfied and now we'll paste
this command
it's
requirement is already satisfied
as I've already installed all the
packages if you face any issue in
installing these packages just comment
down in the comment section and our
experts will be
helping you with all your queries okay
and note environment
the requirement is already satisfied now
the last one okay we have noticed on
YouTube
so I will also to install the YouTube
One
it says the states that the requirement
is already satisfied okay
now
the OS one
so we'll just copy the command here
I have already installed I don't know
why it's installing again
okay uh okay I got it all right it's
installing okay so we will let it being
downloaded and install it
till then we will import all the
packages okay
so we'll start with import
sends you will
import
Discord
and
we will import
from discover.ext
will import
commands and
external class okay
so commands and
they will import tasks
okay
now we'll import
OS
and
from
dot environment
will
import
load underscore
dot environment
okay
now we'll import
YouTube underscore DL
okay
okay
uh this we don't need also
you know all the other caches have been
installed okay no issues we don't need
this also
so we also need to install FM pack I
will
tell you
for what will need that
I will mention all these commands in the
comment section and we have to set the
environment variables for this FM pack
we will also come to that
or first we
should come to that only no we'll start
with the code and after that we'll
install the FM Bank okay I've already
installed on my system I will show you
how you guys can install it okay
so moving on
we have imported all the libraries and
the module that is YouTube underscore DL
it's an open source Download Manager for
video and audio content from YouTube and
other video hosting websites so what
we'll do in this project is first we'll
download the video
what we are sending to a port it will
download it and then it will play okay
now we need to set intents for a boat
intense allow a board to subscribe to
specific buckets of events allowing
developers to choose which events the
port listens to and to which it doesn't
for example sometimes we go on the boat
to Listen to Only messages and nothing
else
so we'll set the intents for that okay
so moving on
to set the intents we'll create a
variable intense and inside
from the Discord library or the Discord
module we'll use Discord Dot
intents
dot all
and we'll create another variable that
is client equal to
this code
Dot
client
and inside will set
intents equal to
intents okay
now
we'll set commands
uh we'll set it for both only that word
prefix we should set for a board so that
our board could understand those
commands Okay
so command store board and inside will
set the command prefix
so for that we'll write command prefix
you can see here that Visual Studio code
already suggests us the functions over
the commands Okay
so it has suggested command prefix and
inside the inverted commas we'll set
exclamation mark okay
and we'll set intents equal to intents
okay oh it shows yeah
okay oh sorry
we have two
turn this into a variable
and
we don't have to close the bracket there
I don't know why I have closed that
and now here
we will
paste our Discord token and load the
environment variable okay
so for that we'll write the command load
underscore
dot EnV
and now here
we will store our Discord token
that is equal to OS Dot
get EnV
and inside we will paste our Discord
token we'll just paste it no and open
the command
so we have to visit our browser and I'll
document this was my token I will copy
it and move back and paste it here okay
and I have to show you guys that our
board is here but it's offline we will
make it online and then we'll ask him
the commands Okay
so moving on now we'll write the code to
download the video
for that we'll use the YouTube
underscore DL module okay
so our next step is dealing with the
part that actually downloads the audio
file from the video link we provide
please note that this board is just a
demonstration it's not illegal to
download from YouTube or personal used
according to
any laws or something but it might be
against the YouTube terms of service so
please be sensible and use this for
personal use only okay
like it might be against the YouTube
terms and conditions that is terms of
service
so to download it we will start with the
commands that is YouTube
underscore DL
go to hotels
dot bug underscore
reports underscore
message
and we'll use the Lambda function here
okay
so we'll use the Lambda function here
and after the colon we'll just
have the inverted Commerce now we will
declare the format options that this
module contains
so for that we'll write the command
ytdl underscore
format underscore options
and that is equal to
inside the curly braces we will Define
all the format options
so we'll start with
format
colon
and inside the invite commas only
you will write best audio
slash best
and the restricted
file names that is restrict file names
okay
you could just copy the commands or like
we have another video where we have
my code
so we'll just get these commands copied
now once
more
like we don't have to understand
anything in this so why to waste the
time well code as fast as we can
so we'll just copy these commands and
now we'll write the FM pack options
so we have installed the FM pack library
and how to download the extraction
module
and how to set the environment variables
will come on that but before that we
will set the FM pack options
so for that we'll create a variable if I
pack underscore options
and that is
inside the curly braces we'll set
options
minus VN
okay
now
we will create a variable that is ytdl
and inside we'll use the YouTube
underscore DL module and its function
that is YouTube DL
YouTube DL and inside will pass
ytdl format options that we have
set above okay inside will pass these
so for that we'll just write
ytdr format options
okay now we will create a class
okay we just
go to bracket here
you just get it there and now we'll
create a class
and inside we will set the URL variable
that will take the URL which will pass
to the board and that URL video will be
downloaded and then that will be played
by the port as an audio
okay so for that we'll start with a
class and name it as
YT DL
source
and inside we will pass this code
dot that is from the Discord
and we can use the version phone oh we
don't we have to use the pscm volume
Transformer and it's not showing here so
we'll just write down that is PCM
volume Transformer
okay
and after that we will
find the init function
that is
underscore underscore
init
and inside will pass self
and source
um strict
data
and we'll set the volume
equal to 0.5
okay
now you set the volume
now super dot init and inside will pass
the source and volume
source
and volume
so we have passed it here now we'll
declare other things that is data title
and the URL
so for that we'll just write
self.data
that is equal to
data and then
we will
self Dot
title
that is equal to
data Dot get
title
now
for the URL
will set self dot URL and
that will set
just the inverted commas so that it
could
take the URL what will give to the board
okay
now we'll create a method that would be
the class method okay for that we'll use
add the rate
class method and inside
okay uh
nothing just ignore that
so we will use a sync and
we will create a function and name it as
from URL
so we'll create a function from URL and
inside we will pass
CLS
URL
asterisk
and loop
so that it doesn't
plate again and again so we'll set the
loop equal to none
okay and
we'll set
stream equal to false so it shouldn't
stream it from the internet first it
should download and then it should be
played by the following commands we'll
set it okay
so we set the stream equal to false
now we'll set
Loop
that is equal to
Loop
or
will use the module asynchq
and
we'll get event Loop
function
okay
and now we'll set the data
equal to
a weight
await
Loop dot run
Loop dot run
underscore
in executor we'll use this function
that is run in executor and inside we
will pass
none
and we will have a Lambda function here
and inside this Lambda function
we will use ytdl that is a YouTube and
use the extract info function
extract the information
from the URL we have provided
and inside will pass the URL
and
we will write
download
equal to
node stream that is we don't have to
stream it
okay
so
we have set the data
now
we will
run a if statement that is if
entries
in data
that is we'll take the first item from a
playlist if you have
given the link or URL for a playlist
we'll take the
first item from that playlist okay for
that will write
data equal to
inside data
and
entries
and
um
in the first entry
okay
we'll take that and now
here
let's set the file name
the file that we will download
that would be
data
and inside
title
okay
no
if
so we'll set up here only that is
if stream
else
yddl Dot
prepare underscore
file name
and inside we will pass data okay
here we have passed the data and here we
will return the filing
okay
now we have created the from URL method
that is the method of ytdl source class
that takes in the URL as a parameter and
Returns the file name of the audio file
which gets downloaded
now we'll add board commands
so now let's add the join function so
we'll write the join command that would
start with the exclamation mark that we
have set the commands prefix
so to join the board in a particular
channel that is a voice Channel we'll
write the command and we'll declare a
method for that to tell the board to
join the voice Channel and we will
declare a leave method to tell the board
to disconnect then we will
and declare other methods that would be
for play pose resume and stop
so starting with we will start with the
join method okay
for that
we'll start
okay
so
for the
join method we'll start with at the rate
board dot command
will use the board variable that we have
declared earlier and inside
we will name this method as join
okay
and
if you want you can just write a help
also that is it will tell the board to
join the voice Channel okay
but we will go on and use the function
that is
async
left and we'll create a function join
and inside this will pass
CTX
and
here we'll use if command that is
if not
CTX
dots
uh will message the author
voice that would be a voice would pop
out when the
when I'm bored will join the channel
okay
so note CTX Dot
now if like here if it doesn't join then
you will get the message okay
Dot message and
dot author
note
voice
now we'll use a weight
and inside we'll write the message that
will get if it doesn't show in the
channel That is await CTX Dot
send
and inside
curly braces
and we'll get the message that it is not
connected to a voice Channel okay
it will take the name of the board
that is the author.name that I'll just
show you okay
S Note
connected to a
voice
Channel
okay
got it
now
we'll use
format
and inside
pass CTX Dot
message
dot author
dot name
what name
it should appear
in the curly braces okay
now
well
let's return
okay
now we will declare our else statement
that would be
if it joins the channel
then Channel equal to
what message it should display
or it should just connect to the channel
okay we won't display any message here
we just wanted to join the channel
so for that we'll write CTX
Dot message
Dot
author
dot OS root
Channel
okay
now we'll use a weight
so it could
connect to the channel and we'll write
the command for that channel dot connect
okay
so we have written
the function
to get a bot join into a channel
now
we'll write a command to play the song
so for that all right at the rate go Dot
command
and inside we will name it
and we name it as
place home
play underscore
so
and if you want to write help to
get like what this command does so you
could just
pass a Helper and inside that you could
just store a line that
describes what this command does okay
and here we'll create a function
and name it as play and inside pass X
comma URL
no
we will create a variable and named as
server
and inside
will pass CTX Dot
message Dot
Guild
and now we'll
create a variable that is voice
underscore
Channel
and that is equal to
server
Dot
voice underscore
client
and now
now
right
sorry
async
with
CTX
Dot
typing
that is when we'll call this function so
a board will show us typing
that what we have named our Port that is
music port so it's typing music board
simply something we have named it
and what it would type it that would be
create a variable file name
and inside
all right
wait
ytpl
source
and
from URL function
will take the URL
pass the URL into it and loop equal to
board dot Loop okay
now
we will
set up
like we'll take the voice Channel
and
use the function
play
and inside
we'll use
disco dot fm pack audio okay
FM pack
a PC module and that function
starts with your f
m
Bank
PCM
audio
okay
and inside
will pass executable
and here we will set the path we will
set the FM Peg we will download it and
set the environment variable and we will
extract these files of FM pack so here
we will write the path to that
so we'll write this path
after we will complete the code we'll
see how to download it and how to
extract the FM pack okay
so here
we will write the executable and now
will also pass source
that is equal to
file name
okay
this is equal to file and now
now we'll use a weight
a weight and inside CTX Dot
send
and inside we'll write
in bold letters
so for that we'll use the asterisk two
times
that would be
now playing
colon
and asterisk
and here we will
the curly braces
and use the format
and inside will pass
file name okay
now here first we check if the user who
wants to play music has already joined
the voice Channel or not if not will
tell the user to join first okay
now
we'll create command for pose
so for that right add the rate
code dot command
and inside
will set name equal to pose
okay
name equal to
pose
and if you want to set help you could
also set the help but we don't need we
know what we are going to do with this
function so
we'll write async Dev and we will write
the function name
that will name as pause and set will
pass CTX
signed pass
voice underscore client
and that is equal to CTX Dot
send message now we want
to send message ruined CTX Dot
message
Dot
Guild
and we'll use the voice client
okay
now
if
voice
client
is playing
then we will pause it if we use this
command post that would be exclamation
pose
so uh
we are getting a if statement inside if
voice
client
Dot
is playing
then we'll use a weight
that is voice underscore
client
and we will pause it okay
and now else
we'll use the await
that is
CTX Dot
send
so if it's already post we will
send some message that would be
the board is
the board has post the music
or it's not
playing anything okay
so
we'll pass this
and this is for the pores now we will
declare a function for resume
so for that we'll write at the rate
board dot command
and inside you will pass name
and we'll pass the name that would be
equal to zoom
and if we want to set help you could set
the help hence there's no need so here
we will set the function and name it as
resume and inside will pass CTX okay
now
we'll use
The Voice client
and here
write a message Dot
get Dot
OS underscore client
so we have set the voice client here
okay
now if voice client is post then we'll
resume it okay so for that we'll write
the command if
voice underscore
client dot is underscore
post
then we'll use the await function
that is await
voice underscore
client Dot
will resume it okay
we will resume it
else
if it's already playing then we'll just
pass the message
in the weight that is
ctx.send
and inside will pass the message
that
we can pass
if we have used the initial method and
it doesn't play any song then we'll pass
the messages that
the boat is not playing any soon
that's why I had assume command won't
work
okay
now we will
write a command
for leave that is we have asked about to
join
a channel that is the version and if you
want him to leave it so for that we'll
write the command at the rate for DOT
command and inside we'll set the name
as leave okay
okay now if you want to set help you can
set it as new just
write the function async Dev
and name the function as
leave and inside will pass CTX
and after that we'll set the voice
client
voice underscore client
and that is equal to CTX Dot
here we will again set the
message.gill.voice client okay
okay now
we'll use the if statement that is if
the voice client is connected then we'll
disconnect it that is we'll ask him to
leave the channel
so for that we'll write the command
if voice
underscore client
is connected
and then we'll use a weight
that is voice underscore
client
and we will disconnect it so we'll use
load this
connect
okay
or else
if the board is not connected to voice
channel will just
get the message
so for that
we'll just write
client
uh not will not write voice.9 will use
the update function
to get the message that would be a wait
CTX Dot
send and we'll get the messages
that the
board is
board has
not joined
a question
okay
now
uh we are left with
the
resume always okay we have not written
the stop
command for the Stop command or the stop
function so we will write for that
so for that we'll just
create add the rate board Dot command
and inside
will set the name
as stop okay
and in the next we will create a
function that is async Def and name it
as stop and inside will pass CTX
okay now we'll clear the voice connect
so voice client equal to CTX Dot
message dot Guild
Dot
voice underscore
client
okay
now if
voice client is playing
that is
if voice underscore
client
is playing
then
we can just write the command to stop it
so for that we'll use the await
and
we'll write Vice underscore client
dot stop
okay
now else
hmm
now if it's the board is not playing
anything at that moment we will just
pass the message there that is await CTX
Dot
send
and inside
will pass the message that is
the port is
note
playing
any
thing
okay
now
we will just
get a code running
or we'll just move to the last part of a
code that is to deploy the board locally
we will activate the virtual environment
and run the this file
so for that
let me just write the last month that
will be the main functions that is
underscore underscore name
we could add more commands also first
we'll run this and after that we'll see
if
we need something else
or we are done with it
and here
write board dot run
and r
Discord token
so we'll just place the Discord token
here and that we have
you know what
browser I will just
so we'll just
leave it here copy our token
go back
and paste it here
something happened
no
it's okay
now we have to paste the path for FM
pack so
so we will just visit the browser and I
will provide you the link to download
the FM pack
just
click on Windows
and then Windows built by
ptbn
no not this
you will go to download the source code
is downloaded but
yeah you can do it Dave
and here we will download the FM pack
get full load 700.
so this is what we need you just
cancel it
okay
so we will
get to the downloads
and it's being downloaded
so it could download it
so we'll just extract the files
and we'll extract in the same folder
so that is in the C
and in C we have python projects and by
the projects where I have this code
music port
okay
so we will get all the files extracted
there
yes and see
simply not simply not bro we have to go
to python projects and we have to go
music code then we have FM pack and in
bin we have
this all three so we'll just
copy this
path
and paste it
in our
execute table okay
now we'll clear the terminal
and get done with the project
and now we have to set the environment
variable for FM pack
so we'll just search
that is
environment edit the system environment
variables and just click enter and this
will appear
so you just have to click the
environment variables
and click on edit
when it uh you have to click on new
wheat
you just see the path and click on edit
and
click on path and then edit
and here we will
put a new variable
and where you have stored all this we'll
just copy the
path
and
paste it here
and click ok
and now we'll move back to
our
code
now we'll save the file
and run the file
so it's showing that the shared ID
is connected to Gateway so we'll move to
yeah you can see that the music board
Pro simply
it's been online
now I will run and execute the file
so we can see that it states that
it has connected to the Gateway
now we'll move to this code
and that was it has hopped into the
server now we can see that it is online
and now we have joined the voice Channel
and now we want a boat to join the
version for that we'll write the command
join
and you can see that our board has also
joined the question
now we want to play
any
audio file
hmm
no move to YouTube
and from the same plan videos only
choose one
that is a small one
so because first it will download it and
then it will play it so
it will take time to get a download
so we'll move to Discord
and
write the command
play underscore song Space
the link of the video and press enter
now you can see now almost that music
board Pro simply is typing
then it's executing the commands and is
downloading the file and will play
you can see
that it has started
ring now we'll stop it
now we want to resume it
no we would be able to resume as we have
stopped it if we have posted then we can
resume it so here are
Discord music port is ready and it's
good to go
so you can just say it how we have
created it
and I will provide you the source code
files and the FM pack URL from where you
can download it and set it as
environment variable so I hope the
session was interesting and informative
if you liked it please let us know in
the comment section below and do
subscribe for more from Simply learn
thanks
hi there if you like this video
subscribe to the simply learned YouTube
channel and click here to watch similar
videos turn it up and get certified
click here